!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const i=[{country:"Россия",count:"144500000",cities:[{name:"Рязань",count:"538962",link:"https://ru.wikipedia.org/wiki/%D0%A0%D1%8F%D0%B7%D0%B0%D0%BD%D1%8C"},{name:"Москва",count:"12615882",link:"https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B0"},{name:"Санкт-Петербург",count:"5383968",link:"https://ru.wikipedia.org/wiki/%D0%A1%D0%B0%D0%BD%D0%BA%D1%82-%D0%9F%D0%B5%D1%82%D0%B5%D1%80%D0%B1%D1%83%D1%80%D0%B3"},{name:"Краснодар",count:"918145",link:"https://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B0%D1%81%D0%BD%D0%BE%D0%B4%D0%B0%D1%80"},{name:"Екатеринбург",count:"1484456",link:"https://ru.wikipedia.org/wiki/%D0%95%D0%BA%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%BD%D0%B1%D1%83%D1%80%D0%B3"},{name:"Ростов-на-Дону",count:"1130305",link:"https://ru.wikipedia.org/wiki/%D0%A0%D0%BE%D1%81%D1%82%D0%BE%D0%B2-%D0%BD%D0%B0-%D0%94%D0%BE%D0%BD%D1%83"},{name:"Воронеж",count:"1054537",link:"https://ru.wikipedia.org/wiki/%D0%92%D0%BE%D1%80%D0%BE%D0%BD%D0%B5%D0%B6"}]},{country:"Германия",count:82175684,cities:[{name:"Берлин",count:"3613495",link:"https://ru.wikipedia.org/wiki/%D0%91%D0%B5%D1%80%D0%BB%D0%B8%D0%BD"},{name:"Мюнхен",count:"1456039",link:"https://ru.wikipedia.org/wiki/%D0%9C%D1%8E%D0%BD%D1%85%D0%B5%D0%BD"},{name:"Франкфурт-на-Майне",count:"736414",link:"https://ru.wikipedia.org/wiki/%D0%A4%D1%80%D0%B0%D0%BD%D0%BA%D1%84%D1%83%D1%80%D1%82-%D0%BD%D0%B0-%D0%9C%D0%B0%D0%B9%D0%BD%D0%B5"},{name:"Кёльн",count:"1080394",link:"https://ru.wikipedia.org/wiki/%D0%9A%D1%91%D0%BB%D1%8C%D0%BD"}]},{country:"Англия",count:53012456,cities:[{name:"Лондон",count:" 8869898",link:"https://ru.wikipedia.org/wiki/%D0%9B%D0%BE%D0%BD%D0%B4%D0%BE%D0%BD"},{name:"Манчестер",count:"545500",link:"https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BD%D1%87%D0%B5%D1%81%D1%82%D0%B5%D1%80"},{name:"Эдинбург",count:"488100",link:"https://ru.wikipedia.org/wiki/%D0%AD%D0%B4%D0%B8%D0%BD%D0%B1%D1%83%D1%80%D0%B3"},{name:"Бристоль",count:"567111",link:"https://ru.wikipedia.org/wiki/%D0%91%D1%80%D0%B8%D1%81%D1%82%D0%BE%D0%BB%D1%8C"}]}],o=()=>{const t=document.createElement("div");return t.className="dropdown-lists__countryBlock",t},s=(t,e)=>{const n=document.createElement("div");return n.className="dropdown-lists__total-line",n.innerHTML=`\n  <div class="dropdown-lists__country">${t}</div>\n  <div class="dropdown-lists__count">${e}</div>\n`,n},d=t=>{const e=document.createElement("div");return e.dataset.cityLink=t.link,e.className="dropdown-lists__line",e.innerHTML=`\n  <div class="dropdown-lists__city">${t.name}</div>\n  <div class="dropdown-lists__count">${t.count}</div>\n`,e},r=t=>{const e=document.querySelector(".dropdown-lists__list--autocomplete .dropdown-lists__col");e.innerHTML="";const n=i.reduce((e,n)=>e.concat(n.cities.filter(e=>e.name.toLowerCase().startsWith(t.toLowerCase()))),[]),s=o();if(n.forEach(t=>{const e=d(t);s.append(e)}),!n.length){const t=d({name:"Ничего не найдено",count:"",link:"none"});s.append(t)}e.append(s)},l=({elem:t,display:e,mode:n="show",className:i})=>{"hide"===n&&(t.style.visibility="hidden",t.style.display="none"),"add"===n&&t.classList.add(i),"remove"===n&&t.classList.remove(i),"toggle"===n&&t.classList.toggle(i),"show"===n&&(t.style.visibility="visible",t.style.display=e||"")},c=(t,e,n)=>{e?t.forEach(t=>t.style.display=t===n?"block":"none"):n?n.style.display="none":t.forEach(t=>t.style.display="none")},a=document.querySelector(".button"),D=document.getElementById("select-cities"),u=document.querySelector(".dropdown"),p=document.querySelectorAll(".dropdown-lists__list"),B=document.querySelector(".close-button"),m=document.querySelector(".button");c(p,!1),l({elem:m,mode:"add",className:"button--disabled"}),D.addEventListener("focus",()=>{c(p,!0,p[D.dataset.dropdown]||p[0])}),document.addEventListener("click",t=>{t.target.closest("#select-cities, .dropdown-lists__list")||c(p,!1),t.target===B&&(D.value="",D.dataset.dropdown="0",l({elem:B,mode:"hide"}),l({elem:m,mode:"add",className:"button--disabled"}))}),u.addEventListener("click",t=>{const e=D.dataset.dropdown,n=t.target.closest(".dropdown-lists__total-line"),u=t.target.closest(".dropdown-lists__line");n&&(+e?(D.value="",D.dataset.dropdown="0",c(p,!0,p[0])):(D.value=n.firstElementChild.textContent,D.dataset.dropdown="1",(t=>{const e=document.querySelector(".dropdown-lists__list--select .dropdown-lists__col");e.innerHTML="";const n=i.find(e=>e.country===t);n.cities.sort((t,e)=>e.count-t.count);const r=o(),l=s(n.country,n.count);r.append(l);for(let t=0;t<n.cities.length;t++){const e=d(n.cities[t]);r.append(e)}e.append(r)})(D.value),c(p,!0,p[1]))),u&&("none"!==u.dataset.cityLink&&(D.value=u.firstElementChild.textContent,D.dataset.dropdown="2",r(D.value),a.href=u.dataset.cityLink,l({elem:m,mode:"remove",className:"button--disabled"})),c(p,!1)),l({elem:B,display:"block"})}),D.addEventListener("input",()=>{D.value?(r(D.value),c(p,!0,p[2])):(c(p,!0,p[0]),l({elem:B,mode:"hide"}),l({elem:m,mode:"add",className:"button--disabled"}))}),(()=>{const t=document.querySelector(".dropdown-lists__list--default .dropdown-lists__col");t.innerHTML="",i.forEach(e=>{e.cities.sort((t,e)=>e.count-t.count);const n=o(),i=s(e.country,e.count);n.append(i);for(let t=0;t<3;t++){const i=d(e.cities[t]);n.append(i)}t.append(n)})})()}]);